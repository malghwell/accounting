--
-- PostgreSQL database dump
--

-- Dumped from database version 15.7
-- Dumped by pg_dump version 15.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: accindex; Type: TABLE; Schema: public; Owner: accountingsys
--

CREATE TABLE public.accindex (
    id integer NOT NULL,
    indexno integer NOT NULL,
    title character varying(255) NOT NULL,
    description character varying(255),
    deleted_at date,
    deleted boolean
);


ALTER TABLE public.accindex OWNER TO accountingsys;

--
-- Name: accindex_seq; Type: SEQUENCE; Schema: public; Owner: accountingsys
--

CREATE SEQUENCE public.accindex_seq
    START WITH 1
    INCREMENT BY 50
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.accindex_seq OWNER TO accountingsys;

--
-- Name: dentacc; Type: TABLE; Schema: public; Owner: accountingsys
--

CREATE TABLE public.dentacc (
    id bigint NOT NULL,
    acctype character varying(255),
    amount double precision,
    indexno integer,
    doub_entry_id bigint,
    CONSTRAINT dentacc_acctype_check CHECK (((acctype)::text = ANY ((ARRAY['DEBIT'::character varying, 'CREDIT'::character varying])::text[])))
);


ALTER TABLE public.dentacc OWNER TO accountingsys;

--
-- Name: dentacc_id_seq; Type: SEQUENCE; Schema: public; Owner: accountingsys
--

ALTER TABLE public.dentacc ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.dentacc_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: dentacc_seq; Type: SEQUENCE; Schema: public; Owner: accountingsys
--

CREATE SEQUENCE public.dentacc_seq
    START WITH 1
    INCREMENT BY 50
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.dentacc_seq OWNER TO accountingsys;

--
-- Name: doubentry; Type: TABLE; Schema: public; Owner: accountingsys
--

CREATE TABLE public.doubentry (
    id bigint NOT NULL,
    dentryid bigint,
    description character varying(255),
    trans_date date
);


ALTER TABLE public.doubentry OWNER TO accountingsys;

--
-- Name: doubentry_id_seq; Type: SEQUENCE; Schema: public; Owner: accountingsys
--

ALTER TABLE public.doubentry ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.doubentry_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: doubentry_seq; Type: SEQUENCE; Schema: public; Owner: accountingsys
--

CREATE SEQUENCE public.doubentry_seq
    START WITH 1
    INCREMENT BY 50
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.doubentry_seq OWNER TO accountingsys;

--
-- Data for Name: accindex; Type: TABLE DATA; Schema: public; Owner: accountingsys
--

COPY public.accindex (id, indexno, title, description, deleted_at, deleted) FROM stdin;
302	10001	Books	The school books account	\N	f
303	1002	Utilities	Utilities account	\N	f
304	1003	Salaries	Salaries account	2024-08-18	t
352	10003	Fees	collected fees	\N	f
353	10004	Rent	property rent	\N	f
354	10005	Cafeteria	Cafeteria	\N	f
402	10011	Fees	collected fees	\N	f
403	10012	Rent	property rent	\N	f
404	10013	Cafeteria	Cafeteria	\N	f
452	10011	Fees	collected fees	\N	f
453	10012	Rent	property rent	\N	f
454	10013	Cafeteria	Cafeteria	\N	f
\.


--
-- Data for Name: dentacc; Type: TABLE DATA; Schema: public; Owner: accountingsys
--

COPY public.dentacc (id, acctype, amount, indexno, doub_entry_id) FROM stdin;
254	DEBIT	10	10001	303
255	CREDIT	10	10002	303
302	DEBIT	15	10001	352
303	CREDIT	15	10002	352
304	DEBIT	13	10001	353
305	CREDIT	13	10002	353
352	DEBIT	150	10003	402
353	CREDIT	150	10002	402
354	DEBIT	130	10001	403
355	CREDIT	130	10002	403
\.


--
-- Data for Name: doubentry; Type: TABLE DATA; Schema: public; Owner: accountingsys
--

COPY public.doubentry (id, dentryid, description, trans_date) FROM stdin;
303	55	double entry test	2024-08-20
352	7	double entry test 2	2024-08-20
353	9	double entry test 3	2024-08-20
402	17	double entry test 4	2024-08-21
403	19	double entry test 5	2024-08-21
\.


--
-- Name: accindex_seq; Type: SEQUENCE SET; Schema: public; Owner: accountingsys
--

SELECT pg_catalog.setval('public.accindex_seq', 501, true);


--
-- Name: dentacc_id_seq; Type: SEQUENCE SET; Schema: public; Owner: accountingsys
--

SELECT pg_catalog.setval('public.dentacc_id_seq', 2, true);


--
-- Name: dentacc_seq; Type: SEQUENCE SET; Schema: public; Owner: accountingsys
--

SELECT pg_catalog.setval('public.dentacc_seq', 401, true);


--
-- Name: doubentry_id_seq; Type: SEQUENCE SET; Schema: public; Owner: accountingsys
--

SELECT pg_catalog.setval('public.doubentry_id_seq', 1, false);


--
-- Name: doubentry_seq; Type: SEQUENCE SET; Schema: public; Owner: accountingsys
--

SELECT pg_catalog.setval('public.doubentry_seq', 451, true);


--
-- Name: accindex accindextable_pkey; Type: CONSTRAINT; Schema: public; Owner: accountingsys
--

ALTER TABLE ONLY public.accindex
    ADD CONSTRAINT accindextable_pkey PRIMARY KEY (id);


--
-- Name: dentacc dentacc_pkey; Type: CONSTRAINT; Schema: public; Owner: accountingsys
--

ALTER TABLE ONLY public.dentacc
    ADD CONSTRAINT dentacc_pkey PRIMARY KEY (id);


--
-- Name: doubentry doubentry_pkey; Type: CONSTRAINT; Schema: public; Owner: accountingsys
--

ALTER TABLE ONLY public.doubentry
    ADD CONSTRAINT doubentry_pkey PRIMARY KEY (id);


--
-- Name: dentacc fkmc7xgsp3d6ur0y7qpehrb6tuh; Type: FK CONSTRAINT; Schema: public; Owner: accountingsys
--

ALTER TABLE ONLY public.dentacc
    ADD CONSTRAINT fkmc7xgsp3d6ur0y7qpehrb6tuh FOREIGN KEY (doub_entry_id) REFERENCES public.doubentry(id);


--
-- PostgreSQL database dump complete
--

